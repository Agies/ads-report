{"version":3,"sources":["../../src/decorators/withStyles.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;qBAE4C,OAAO;;;;;;gCAC7B,oBAAoB;;;;2CAChB,+BAA+B;;AAEzD,IAAI,KAAK,GAAG,CAAC,CAAC;;AAEd,SAAS,UAAU,CAAC,MAAM,EAAE;AAC1B,SAAO,UAAC,iBAAiB;;gBAAW,UAAU;;mBAAV,UAAU;;eAEtB;AACpB,qBAAW,EAAE,iBAAU,IAAI;SAC5B;;;;AAEU,eANuB,UAAU,GAM9B;8BANoB,UAAU;;AAO1C,mCAPgC,UAAU,6CAOlC;AACR,YAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;AAClB,yBAAiB,CAAC,SAAS,CAAC,SAAS,GAAG,CAAA,SAAS,MAAM,CAAC,GAAG,EAAE;AAC3D,cAAI,KAAK,YAAA,CAAC;AACV,sDAAe;AACb,iBAAK,GAAG,IAAI,CAAC,OAAO,IAAI,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC9D,gBAAI,KAAK,EAAE;AACT,kBAAI,aAAa,IAAI,KAAK,EAAE;AAC1B,qBAAK,CAAC,WAAW,GAAG,GAAG,CAAC;eACzB,MAAM;AACL,qBAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;eAChC;aACF,MAAM;AACL,kBAAI,CAAC,OAAO,oBAAkB,KAAK,EAAE,AAAE,CAAC;AACxC,mBAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AACxC,mBAAK,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AACvC,mBAAK,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;;AAEvC,kBAAI,aAAa,IAAI,KAAK,EAAE;AAC1B,qBAAK,CAAC,WAAW,GAAG,GAAG,CAAC;eACzB,MAAM;AACL,qBAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;eAChC;;AAED,sBAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC5D,kBAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;WACF,MAAM;AACL,gBAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;WAC/B;SACF,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACd;;mBAtCiC,UAAU;;eAwC1B,8BAAG;AACnB,sDAAe;AACb,+CAAU,MAAM,CAAC,GAAG,oEAAoE,CAAC;AACzF,kBAAM,CAAC,GAAG,EAAE,CAAC;WACd,MAAM;AACL,gBAAI,CAAC,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;WAC7C;SACF;;;eAEmB,gCAAG;AACrB,gBAAM,CAAC,KAAK,EAAE,CAAC;AACf,cAAI,IAAI,CAAC,OAAO,EAAE;AAChB,gBAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,gBAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;AACrB,kBAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACpD,kBAAI,KAAK,EAAE;AACT,qBAAK,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;eACrC;aACF;WACF;SACF;;;eAEK,kBAAG;AACP,iBAAO,iCAAC,iBAAiB,EAAK,IAAI,CAAC,KAAK,CAAI,CAAC;SAC9C;;;aAhEiC,UAAU;;GAkE7C,CAAC;CACH;;qBAEc,UAAU","file":"withStyles.js","sourcesContent":["/*! React Starter Kit | MIT License | http://www.reactstarterkit.com/ */\n\nimport React, { PropTypes, Component } from 'react'; // eslint-disable-line no-unused-vars\nimport invariant from 'fbjs/lib/invariant';\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\nlet count = 0;\n\nfunction withStyles(styles) {\n  return (ComposedComponent) => class WithStyles extends Component {\n\n    static contextTypes = {\n      onInsertCss: PropTypes.func,\n    };\n\n    constructor() {\n      super();\n      this.refCount = 0;\n      ComposedComponent.prototype.renderCss = function render(css) {\n        let style;\n        if (canUseDOM) {\n          style = this.styleId && document.getElementById(this.styleId);\n          if (style) {\n            if ('textContent' in style) {\n              style.textContent = css;\n            } else {\n              style.styleSheet.cssText = css;\n            }\n          } else {\n            this.styleId = `dynamic-css-${count++}`;\n            style = document.createElement('style');\n            style.setAttribute('id', this.styleId);\n            style.setAttribute('type', 'text/css');\n\n            if ('textContent' in style) {\n              style.textContent = css;\n            } else {\n              style.styleSheet.cssText = css;\n            }\n\n            document.getElementsByTagName('head')[0].appendChild(style);\n            this.refCount++;\n          }\n        } else {\n          this.context.onInsertCss(css);\n        }\n      }.bind(this);\n    }\n\n    componentWillMount() {\n      if (canUseDOM) {\n        invariant(styles.use, `The style-loader must be configured with reference-counted API.`);\n        styles.use();\n      } else {\n        this.context.onInsertCss(styles.toString());\n      }\n    }\n\n    componentWillUnmount() {\n      styles.unuse();\n      if (this.styleId) {\n        this.refCount--;\n        if (this.refCount < 1) {\n          const style = document.getElementById(this.styleId);\n          if (style) {\n            style.parentNode.removeChild(style);\n          }\n        }\n      }\n    }\n\n    render() {\n      return <ComposedComponent {...this.props} />;\n    }\n\n  };\n}\n\nexport default withStyles;\n"]}